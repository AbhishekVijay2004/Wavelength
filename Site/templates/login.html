{% extends "sign-on.html" %}

{% block title %}Login | Wavelength{% endblock %}

{% block content%}
<br>
<form method = 'POST' action="/login">
<input class="single-line-text-entry" type="text" name="username" placeholder="Username or Email" onfocus="this.placeholder=''" onblur="this.placeholder = 'Username or Email'"></input>
<br>
<input class="single-line-text-entry" type="password" name="password" id="password1" placeholder="Password" onfocus="this.placeholder=''" onblur="this.placeholder = 'Password'"></input>
<div id="pwdCheck">
    <input id="pwdCheckbox" type="checkbox" onclick="togglePasswordVisibility()"> Show password
</div>
<br>
{% with messages = get_flashed_messages(with_categories=True) %}
{% if messages %}
    {% for catagory, message in messages %}
    {% if catagory == "error" %}
    <div class="error">
        <p>{{ message }}</p>
    </div>
    {% endif %}
    {% endfor %}
{% endif %}
{% endwith %}
<div class="button-container">
    <button type="submit" class="button">Sign-in</button>
    </form>
    <button type ="button" class="button" onclick="navigateToRegisterPage()">Register</button>
</div>
{% endblock %}

{% block javascript %}
<script type="text/javascript" src="{{url_for('static', filename = 'js/passwordVisibility.js')}}"></script>
<script>
    function navigateToRegisterPage() {
        window.location.href = "{{ url_for('register') }}";
    }
</script>
{% endblock %} 

