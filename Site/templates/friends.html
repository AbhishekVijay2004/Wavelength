{% extends "base.html" %}

{% block title %}Friends | Wavelength{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" href="{{ url_for('static', filename = 'css/friends.css') }}">
{% endblock %} 

{% block content%}
<div class="main-content content-friends">
    <div class="clsScroll" id="hideScroll">
      <center>
        <h1 class="content-title">Friends</h1>
        <form method = 'POST' action="/friendSearch">
        <input class="single-line-text-entry" type="text" placeholder="Search For New Friends..." onfocus="this.placeholder=''" onblur="this.placeholder = 'Search For New Friends...'">
        </form>
      </center>
      {% for i in range(usernames | length) %}
      <div class="profile-element">
        <div class="content-container">
          <img class="profile-image" src="{{ profile_pics[i] }}"></img>
          <p class="profile-text-header" onclick="navigateToExternalProfilePage('{{ usernames[i] }}')">@{{ usernames[i] }}</p>
          <p class="profile-text-details">Friends: {{ users_num_followers[i] }}</p>
          <p class="profile-text-details">Posts: {{ users_num_posts[i] }}</p>
          <p class="profile-text-details">Likes: {{ users_num_likes[i] }}</p>
          <p class="profile-text-details">Comments: {{ users_num_comments[i] }}</p>
          <div><button onclick="Unfollow('{{ usernames[i] }}')" class="button" style="font-size: 1.0vw;">Unfollow</button></div>
          </form>
        </div>
      </div>
      {% endfor %}
      <script>
        function navigateToExternalProfilePage(username) {
          window.location.href = '/externalProfile?username=' + username;
        }

        function Unfollow(username) {
          window.location.href = "/unfollow?unfollow=" + username;
        }
      </script>
    </div>
  </div>
{% endblock %}

{% block javascript %}
{% endblock %} 

