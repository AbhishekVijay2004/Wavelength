{% extends "base.html" %}

{% block title %}Friends | Wavelength{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" href="{{ url_for('static', filename = 'css/friends.css') }}">
{% endblock %}

{% block content%}
<div class="main-content content-friends">
    <div class="clsScroll hideScroll">
      <center>
        <h1 class="content-title">Friends</h1>
        <input class="single-line-text-entry" type="text" placeholder="Search For New Friends..." onfocus="this.placeholder=''; ShowSearch()" onblur="this.placeholder = 'Search For New Friends...'; HideSearch()" onkeyup="Search()">
      <div id="search-container">
        <div style="margin-top:1vw;"></div>
        <div class="search-result" id="search-result-0">
          <img id="search-image-0">
          <h2 id="search-title-0"></h2>
        </div>
        <div class="search-result" id="search-result-1">
          <img id="search-image-1">
          <h2 id="search-title-1"></h2>
        </div>
        <div class="search-result" id="search-result-2">
          <img id="search-image-2">
          <h2 id="search-title-2"></h2>
        </div>
        <div class="search-result" id="search-result-3">
          <img id="search-image-3">
          <h2 id="search-title-3"></h2>
        </div>
        <div class="search-result" id="search-result-4">
          <img id="search-image-4">
          <h2 id="search-title-4"></h2>
        </div>
      </div>
      </center>
      {% for i in range(usernames | length) %}
      <div class="profile-element">
        <div class="content-container">
          <img class="profile-image" src="{{ profile_pics[i] }}"></img>
          <p class="profile-text-header" onclick="navigateToExternalProfilePage('{{ usernames[i] }}')">@{{ usernames[i] }}</p>
          <p class="profile-text-details">Friends: {{ users_num_followers[i] }}</p>
          <p class="profile-text-details">Posts: {{ users_num_posts[i] }}</p>
          <p class="profile-text-details">Likes: {{ users_num_likes[i] }}</p>
          <p class="profile-text-details">Comments: {{ users_num_comments[i] }}</p>
          <div><button onclick="Unfollow('{{ usernames[i] }}')" class="button" style="font-size: 1.0vw;">Unfollow</button></div>
          </form>
        </div>
      </div>
      {% endfor %}
      <script>
        function navigateToExternalProfilePage(username) {
          window.location.href = '/externalProfile?username=' + username;
        }

        function Unfollow(username) {
          window.location.href = "/unfollow?unfollow=" + username;
        }
      </script>
    </div>
  </div>
{% endblock %}

{% block javascript %}
<script type="text/javascript" src="{{url_for('static', filename = 'js/show-search.js')}}"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- <script type="text/javascript" src="{{url_for('static', filename = 'js/characterCount.js')}}"></script> -->
{% endblock %} 

